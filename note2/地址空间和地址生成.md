# 地址空间和地址生成
## 地址空间定义
+ 物理地址空间：硬件支持的地址空间
+ 逻辑地址空间：在 CPU 运行的进程看到的地址
## 逻辑地址生成
一段程序最终执行，即映射到最终地址前，需要有以下几个步骤：  
1. 编译：代码变成汇编码（汇编的源代码）
2. 汇编：得到二进制代码，机器能够实实在在认识
3. 链接：函数库，各种模块等链接到一起，以便于找到
4. 程序加载
## 逻辑地址的生成时机
+ 编译时  
可用于起始地址已定的情况，如功能机，软件功能已写好，不能新增、改变
+ 加载时  
加载时重定位，加载时，生成绝对地址
+ 执行时  
如虚拟内存  
最后一种最灵活，前两种较简单
## 地址生成过程
+ CPU
  + ALU：需要逻辑地址和内存内容
  + MMU:进行逻辑地址和物理地址的转换
  + CPU控制逻辑：给总线发送物理地址请求
+ 内存
  + 发送物理地址的内容
  + 或接收 CPU 数据到物理地址
+ 操作系统
  + 建立逻辑地址 LA 到物理地址 PA 的映射
## 地址检查
逻辑地址生成物理地址，需要借助**段长度寄存器**和**段基址寄存器**  
+ 段长度寄存器：先检查逻辑地址是否超过段长度寄存器设定的长度，超过就内存异常
+ 段基址寄存器：检查通过的逻辑地址加上段基址寄存器储存的基址可得到物理地址
